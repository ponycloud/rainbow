<h1>Affinity groups</h1>

<ul class="nav nav-pills">
	<li>
    <button class="btn btn-primary" ng-click="open()">
        <i class="glyphicon glyphicon-plus icon-white"></i> 
        New affinity group
    </button>
	</li>


  <li class="pull-right">
    <input class="form-control" ng-model="search" placeholder="Filter">
  </li>
	<li class="pull-right">
    <button class="btn btn-info" ng-show="!editMode" ng-click="editMode=!editMode">
        Edit
    </button>
    <button class="btn btn-info" ng-show="editMode" ng-click="editMode=!editMode">
        Cancel
    </button>
	
	</li>
</ul>
	
<table class="table table-striped table-responsive table-hover">
	<thead>
	<tr>
		<th ng-show="editMode" class="ng-hide">
        <button type="button" class="btn btn-default btn-xs" ng-class="{true:'btn-danger', false:''}[allToDelete]" ng-click="setToDelete(!allToDelete)">
            <span ng-show="!allToDelete" class="fa fa-check"></span>
            <span ng-show="allToDelete" class="fa fa-check fa-inverse"></span>
        </button>

    </th>
    <th ng-click="predicate = 'desired.name'; reverse=!reverse">Name</th>
		<th>Type</th>
		<th>Actions</th>
	</tr>
	</thead>
	<tbody>
	
	<tr ng-repeat="affinityGroup in affinityGroups | filter: search | orderBy:predicate:reverse">
		<td ng-show="editMode" class="ng-hide">
        <button type="button" class="btn btn-default btn-xs" ng-class="{true:'btn-danger', false:''}[affinityGroup.toDelete]" ng-model="affinityGroup.toDelete" bs-checkbox>
            <span ng-show="affinityGroup.toDelete" class="fa fa-check"></span>
            <span ng-show="!affinityGroup.toDelete" class="fa fa-check fa-inverse"></span>
        </button>
    </td>
		<td>{{affinityGroup.desired.name}}</td>
		<td>{{affinityGroup.desired.type}}</td>

    <td><a class="btn btn-success" href="#/{{tenant}}/affinity-group/{{affinityGroup.desired.uuid}}">
            <i class="icon-zoom-in icon-white"></i> View
        </a>
	</tr>
    <tr ng-show="editMode">
        <td colspan="3">
            <button class="btn btn-danger" ng-click="deleteSelected()">
                <i class="icon-plus-sign icon-white"></i>
                Delete selected
            </button>
        </td>
    </tr>
	</tbody>
</table>
