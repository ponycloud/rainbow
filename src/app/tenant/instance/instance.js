// Generated by CoffeeScript 1.7.1
(function() {
  var InstanceDetailCtrl, InstanceListCtrl, module;

  module = angular.module('tenantInstance', ['rainbowServices']);

  module.config([
    '$routeProvider', function($routeProvider) {
      $routeProvider.when('/:tenant/instance', {
        templateUrl: 'tenant/instance/instance-list.tpl.html',
        controller: 'InstanceListCtrl'
      });
      return $routeProvider.when('/:tenant/instance/:instance', {
        templateUrl: 'tenant/instance/instance-detail.tpl.html',
        controller: 'InstanceDetailCtrl'
      });
    }
  ]);

  module.controller('InstanceListCtrl', InstanceListCtrl = (function() {
    InstanceListCtrl.inject = ['$scope', '$routeParams', 'TenantInstance', 'dataContainer'];

    function InstanceListCtrl($scope, $routeParams, TenantInstance, dataContainer, $modal) {
      var list;
      list = TenantInstance.list({
        tenant: $routeParams.tenant
      });
      list.$promise.then(function(i) {
        $scope.instances = i;
        return dataContainer.registerEntity('instance', $scope.instances);
      });
    }

    return InstanceListCtrl;

  })());

  module.controller('InstanceDetailCtrl', InstanceDetailCtrl = (function() {
    InstanceDetailCtrl.$inject = ['$scope', '$routeParams', 'TenantInstance', 'TenantInstanceVdisk', 'TenantInstanceVnic', 'TenantInstanceVnicAddress', 'StoragePool'];

    function InstanceDetailCtrl($scope, $routeParams, TenantInstance, TenantInstanceVdisk, TenantInstanceVnic, TenantInstanceVnicAddress, StoragePool) {
      $scope.instance = TenantInstance.get({
        tenant: $routeParams.tenant,
        instance: $routeParams.instance
      });
      $scope.vdisks = TenantInstanceVdisk.get({
        tenant: $routeParams.tenant,
        instance: $routeParams.instance
      });
      $scope.vnics = TenantInstanceVnic.get({
        tenant: $routeParams.tenant,
        instance: $routeParams.instance
      });
      $scope.vnicIps = TenantInstanceVnic.get({
        tenant: $routeParams.tenant,
        instance: $routeParams.instance,
        vnic: $routeParams.vnic
      });
    }

    return InstanceDetailCtrl;

  })());

}).call(this);
